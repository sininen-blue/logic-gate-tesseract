[gd_scene load_steps=25 format=3 uid="uid://swjkfmyam37c"]

[ext_resource type="Script" path="res://simulation/simulation-manager.gd" id="1_qo526"]
[ext_resource type="PackedScene" uid="uid://psym6w7moids" path="res://simulation/gate.tscn" id="2_8m28h"]
[ext_resource type="Script" path="res://simulation/side_truth_table.gd" id="3_1veaq"]
[ext_resource type="Theme" uid="uid://dh7cgp4wswxi3" path="res://ui/themes/lessBold.tres" id="3_caabb"]
[ext_resource type="Theme" uid="uid://diwchjwgvp2l4" path="res://ui/themes/redButton.tres" id="3_hos0p"]
[ext_resource type="Script" path="res://simulation/formula_container.gd" id="3_qlwgx"]
[ext_resource type="PackedScene" uid="uid://dpd7dfojh77bw" path="res://simulation/formula_label.tscn" id="3_qwkcl"]
[ext_resource type="PackedScene" uid="uid://b4f4srb41fiu6" path="res://ui/components/error_panel.tscn" id="3_sh4ws"]
[ext_resource type="PackedScene" uid="uid://0im5s06d6220" path="res://ui/level_select/truth_table_row_no_check.tscn" id="4_4xfkp"]
[ext_resource type="Texture2D" uid="uid://bdj0b2iu4u7ud" path="res://assets/UI/tutorial/tutorial.png" id="4_qbqbu"]
[ext_resource type="Texture2D" uid="uid://ba8vhrweymj8x" path="res://assets/UI/icons/left-arrow.png" id="5_5u020"]
[ext_resource type="Texture2D" uid="uid://bakndx3eqlal4" path="res://assets/simulation/and.png" id="5_571u2"]
[ext_resource type="PackedScene" uid="uid://dttx53vhtgwy1" path="res://ui/level_select/level_info.tscn" id="5_qf11p"]
[ext_resource type="Texture2D" uid="uid://dth82x8bk4i3n" path="res://assets/simulation/or.png" id="6_6f24j"]
[ext_resource type="Texture2D" uid="uid://ujiu36258msl" path="res://assets/UI/tutorial/tutorial2.png" id="6_qxhd6"]
[ext_resource type="Texture2D" uid="uid://bv4885ob5v1w" path="res://assets/UI/icons/info.png" id="7_dsagr"]
[ext_resource type="Texture2D" uid="uid://bvhnk5tks5kyi" path="res://assets/simulation/xor.png" id="7_jgmls"]
[ext_resource type="Texture2D" uid="uid://c7phyvdx6c783" path="res://assets/simulation/nand-false.png" id="8_2drvl"]
[ext_resource type="Texture2D" uid="uid://cp7fapvx1faxt" path="res://assets/simulation/nor-false.png" id="9_p42qm"]
[ext_resource type="Texture2D" uid="uid://cihvntuxvqwuj" path="res://assets/simulation/xnor-false.png" id="10_yyr3h"]
[ext_resource type="Texture2D" uid="uid://cjtkhygl5goca" path="res://assets/simulation/not-false.png" id="11_ga2oo"]
[ext_resource type="Texture2D" uid="uid://5eedn8tgc886" path="res://assets/simulation/trashBin/trashBin.png" id="13_ihso0"]
[ext_resource type="Texture2D" uid="uid://b1j74ktf4bn8q" path="res://assets/UI/icons/arrow.png" id="23_c6xtl"]

[sub_resource type="CircleShape2D" id="CircleShape2D_6ovty"]
radius = 5.0

[node name="Simulation" type="Node2D"]
script = ExtResource("1_qo526")
GATE_SCENE = ExtResource("2_8m28h")

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(581, 325)
zoom = Vector2(0.8, 0.8)

[node name="TempLine" type="Line2D" parent="."]
points = PackedVector2Array(0, 0, 0, 0)
width = 6.0
default_color = Color(0.117647, 0.117647, 0.117647, 1)
joint_mode = 2
begin_cap_mode = 2
end_cap_mode = 2
antialiased = true

[node name="MouseArea" type="Area2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="MouseArea"]
shape = SubResource("CircleShape2D_6ovty")

[node name="Label" type="Label" parent="MouseArea"]
visible = false
offset_right = 40.0
offset_bottom = 23.0

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="MovementTutorial" parent="CanvasLayer" instance=ExtResource("3_sh4ws")]
visible = false
offset_left = -12.0
offset_top = -181.0
offset_right = 287.0
offset_bottom = 131.0

[node name="Tutorial" type="Sprite2D" parent="CanvasLayer/MovementTutorial"]
position = Vector2(153, 95)
texture = ExtResource("4_qbqbu")

[node name="Label" type="Label" parent="CanvasLayer/MovementTutorial"]
layout_mode = 0
offset_left = 30.0
offset_top = 161.0
offset_right = 157.0
offset_bottom = 226.0
theme = ExtResource("3_caabb")
text = "Left click to drag"
autowrap_mode = 3

[node name="Label2" type="Label" parent="CanvasLayer/MovementTutorial"]
layout_mode = 0
offset_left = 166.0
offset_top = 169.0
offset_right = 293.0
offset_bottom = 234.0
theme = ExtResource("3_caabb")
text = "Scroll to Zoom"
autowrap_mode = 3

[node name="ControlsTutorial" parent="CanvasLayer" instance=ExtResource("3_sh4ws")]
visible = false
offset_left = -465.0
offset_top = -220.0
offset_right = -26.0
offset_bottom = 149.0

[node name="Tutorial" type="Sprite2D" parent="CanvasLayer/ControlsTutorial"]
position = Vector2(209, 102)
texture = ExtResource("6_qxhd6")

[node name="Label" type="Label" parent="CanvasLayer/ControlsTutorial"]
layout_mode = 0
offset_left = 39.0
offset_top = 193.0
offset_right = 199.0
offset_bottom = 339.0
theme = ExtResource("3_caabb")
text = "Left click and drag to get gates"
autowrap_mode = 3

[node name="Label2" type="Label" parent="CanvasLayer/ControlsTutorial"]
layout_mode = 0
offset_left = 228.0
offset_top = 191.0
offset_right = 415.0
offset_bottom = 290.0
theme = ExtResource("3_caabb")
text = "Right click or drag to trash bin to delete"
autowrap_mode = 3

[node name="ContinueTutorial" parent="CanvasLayer" instance=ExtResource("3_sh4ws")]
offset_left = 95.0
offset_top = -182.0
offset_right = 398.0
offset_bottom = 154.0

[node name="Label" type="Label" parent="CanvasLayer/ContinueTutorial"]
layout_mode = 0
offset_left = 21.0
offset_top = 22.0
offset_right = 268.0
offset_bottom = 121.0
theme = ExtResource("3_caabb")
text = "Press run and test run to test your circuit"
autowrap_mode = 3

[node name="Label3" type="Label" parent="CanvasLayer/ContinueTutorial"]
layout_mode = 0
offset_left = 21.0
offset_top = 133.0
offset_right = 264.0
offset_bottom = 232.0
theme = ExtResource("3_caabb")
text = "and press this button to show the test run results"
autowrap_mode = 3

[node name="Arrow" type="Sprite2D" parent="CanvasLayer/ContinueTutorial"]
position = Vector2(310, 178)
rotation = -2.09439
texture = ExtResource("23_c6xtl")

[node name="Arrow2" type="Sprite2D" parent="CanvasLayer/ContinueTutorial"]
position = Vector2(300, 31)
rotation = -2.87979
scale = Vector2(1, 1)
texture = ExtResource("23_c6xtl")

[node name="UI" type="Control" parent="CanvasLayer"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
metadata/_edit_lock_ = true

[node name="HelpButton" type="Button" parent="CanvasLayer/UI"]
layout_mode = 0
offset_left = 882.0
offset_top = 7.0
offset_right = 998.0
offset_bottom = 74.0
text = "HELP!"
icon = ExtResource("7_dsagr")
expand_icon = true

[node name="AutoGenerateButton" type="Button" parent="CanvasLayer/UI"]
layout_mode = 0
offset_left = 1028.0
offset_top = 472.0
offset_right = 1127.0
offset_bottom = 548.0
theme = ExtResource("3_hos0p")
text = "Auto 
Generate"

[node name="TestRunButton" type="Button" parent="CanvasLayer/UI"]
layout_mode = 1
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -134.0
offset_top = 81.0
offset_right = -42.0
offset_bottom = 134.0
grow_horizontal = 0
text = "Test Run"

[node name="TestCountLabel" type="Label" parent="CanvasLayer/UI/TestRunButton"]
layout_mode = 0
offset_left = -49.0
offset_top = 11.0
offset_right = -9.0
offset_bottom = 42.0
theme = ExtResource("3_caabb")
text = "3/3"

[node name="SideTruthTable" type="Panel" parent="CanvasLayer/UI"]
layout_mode = 1
anchors_preset = 6
anchor_left = 1.0
anchor_top = 0.5
anchor_right = 1.0
anchor_bottom = 0.5
offset_left = -11.0
offset_top = -189.0
offset_right = 285.0
offset_bottom = 187.0
grow_horizontal = 0
grow_vertical = 2
script = ExtResource("3_1veaq")

[node name="HandleButton" type="Button" parent="CanvasLayer/UI/SideTruthTable"]
layout_mode = 0
offset_left = -55.0
offset_top = 161.0
offset_right = 5.0
offset_bottom = 231.0
icon = ExtResource("5_5u020")
icon_alignment = 1

[node name="DebounceTimer" type="Timer" parent="CanvasLayer/UI/SideTruthTable"]
wait_time = 0.25
one_shot = true

[node name="TruthTableHeading" parent="CanvasLayer/UI/SideTruthTable" instance=ExtResource("4_4xfkp")]
custom_minimum_size = Vector2(200, 40)
layout_mode = 0
offset_left = 18.0
offset_top = 11.0
offset_right = 240.0
offset_bottom = 57.0

[node name="TruthTableScroll" type="ScrollContainer" parent="CanvasLayer/UI/SideTruthTable"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 19.0
offset_top = 55.0
offset_right = -9.0
offset_bottom = -18.0
grow_horizontal = 2
grow_vertical = 2

[node name="TruthTable" type="VBoxContainer" parent="CanvasLayer/UI/SideTruthTable/TruthTableScroll"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="FormulaContainer" type="VBoxContainer" parent="CanvasLayer/UI"]
clip_contents = true
custom_minimum_size = Vector2(359, 183)
layout_mode = 0
offset_left = 26.0
offset_top = 77.0
offset_right = 521.0
offset_bottom = 260.0
theme = ExtResource("3_caabb")
script = ExtResource("3_qlwgx")
formula_label = ExtResource("3_qwkcl")

[node name="FlowContainer" type="FlowContainer" parent="CanvasLayer/UI"]
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -490.0
offset_top = -138.0
offset_right = 269.0
grow_horizontal = 2
grow_vertical = 0
alignment = 1

[node name="AndButton" type="Button" parent="CanvasLayer/UI/FlowContainer"]
custom_minimum_size = Vector2(80, 130)
layout_mode = 2
text = "And"
icon = ExtResource("5_571u2")
icon_alignment = 1
vertical_icon_alignment = 2
expand_icon = true

[node name="OrButton" type="Button" parent="CanvasLayer/UI/FlowContainer"]
custom_minimum_size = Vector2(80, 0)
layout_mode = 2
text = "Or"
icon = ExtResource("6_6f24j")
icon_alignment = 1
vertical_icon_alignment = 2
expand_icon = true

[node name="XorButton" type="Button" parent="CanvasLayer/UI/FlowContainer"]
custom_minimum_size = Vector2(80, 0)
layout_mode = 2
text = "Xor"
icon = ExtResource("7_jgmls")
icon_alignment = 1
vertical_icon_alignment = 2
expand_icon = true

[node name="NandButton" type="Button" parent="CanvasLayer/UI/FlowContainer"]
custom_minimum_size = Vector2(80, 0)
layout_mode = 2
text = "Nand"
icon = ExtResource("8_2drvl")
icon_alignment = 1
vertical_icon_alignment = 2
expand_icon = true

[node name="NorButton" type="Button" parent="CanvasLayer/UI/FlowContainer"]
custom_minimum_size = Vector2(80, 0)
layout_mode = 2
text = "Nor"
icon = ExtResource("9_p42qm")
icon_alignment = 1
vertical_icon_alignment = 2
expand_icon = true

[node name="XnorButton" type="Button" parent="CanvasLayer/UI/FlowContainer"]
custom_minimum_size = Vector2(80, 0)
layout_mode = 2
text = "Xnor"
icon = ExtResource("10_yyr3h")
icon_alignment = 1
vertical_icon_alignment = 2
expand_icon = true

[node name="NotButton" type="Button" parent="CanvasLayer/UI/FlowContainer"]
custom_minimum_size = Vector2(80, 0)
layout_mode = 2
text = "Not"
icon = ExtResource("11_ga2oo")
icon_alignment = 1
vertical_icon_alignment = 2
expand_icon = true

[node name="TrashContainer" type="Control" parent="CanvasLayer/UI/FlowContainer"]
custom_minimum_size = Vector2(150, 0)
layout_mode = 2

[node name="Control" type="Control" parent="CanvasLayer/UI/FlowContainer/TrashContainer"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
grow_horizontal = 2
grow_vertical = 2

[node name="TrashSprite" type="Sprite2D" parent="CanvasLayer/UI/FlowContainer/TrashContainer/Control"]
z_index = -8
scale = Vector2(0.7, 0.7)
texture = ExtResource("13_ihso0")

[node name="RunButton" type="Button" parent="CanvasLayer/UI"]
layout_mode = 1
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -125.0
offset_top = 3.0
offset_right = -42.0
offset_bottom = 74.0
grow_horizontal = 0
text = "RUN"

[node name="InfoButton" type="Button" parent="CanvasLayer/UI"]
layout_mode = 1
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -167.0
offset_top = -60.0
offset_right = -21.0
offset_bottom = -29.0
grow_horizontal = 0
grow_vertical = 0
text = "Level Information"

[node name="LevelInfo" parent="CanvasLayer/UI" instance=ExtResource("5_qf11p")]
visible = false
layout_mode = 1
offset_left = -504.0
offset_top = -312.0
offset_right = 504.0
offset_bottom = 312.0
in_game = true

[node name="BackButton" type="Button" parent="CanvasLayer/UI"]
layout_mode = 0
offset_left = 21.0
offset_top = 12.0
offset_right = 81.0
offset_bottom = 65.0
text = "Back"

[node name="Timer" type="Timer" parent="."]
autostart = true

[node name="ConfirmationDialog" type="ConfirmationDialog" parent="."]
initial_position = 1
size = Vector2i(200, 138)
dialog_text = "This will automatically a generate an unoptimized truth table"
dialog_autowrap = true

[node name="ErrorDialog" type="ConfirmationDialog" parent="."]
auto_translate_mode = 1
initial_position = 1
size = Vector2i(200, 138)
dialog_text = "This will automatically a generate an unoptimized truth table"
dialog_autowrap = true

[connection signal="cleared" from="CanvasLayer/MovementTutorial" to="." method="_on_movement_tutorial_cleared"]
[connection signal="cleared" from="CanvasLayer/ControlsTutorial" to="." method="_on_controls_tutorial_cleared"]
[connection signal="pressed" from="CanvasLayer/UI/HelpButton" to="." method="_on_help_button_pressed"]
[connection signal="pressed" from="CanvasLayer/UI/AutoGenerateButton" to="." method="_on_auto_generate_button_pressed"]
[connection signal="pressed" from="CanvasLayer/UI/TestRunButton" to="." method="_on_test_run_button_pressed"]
[connection signal="pressed" from="CanvasLayer/UI/SideTruthTable/HandleButton" to="CanvasLayer/UI/SideTruthTable" method="_on_handle_button_pressed"]
[connection signal="mouse_entered" from="CanvasLayer/UI/FlowContainer/TrashContainer" to="." method="_on_control_mouse_entered"]
[connection signal="mouse_exited" from="CanvasLayer/UI/FlowContainer/TrashContainer" to="." method="_on_trash_container_mouse_exited"]
[connection signal="pressed" from="CanvasLayer/UI/InfoButton" to="." method="_on_info_button_pressed"]
[connection signal="pressed" from="CanvasLayer/UI/BackButton" to="." method="_on_back_button_pressed"]
[connection signal="timeout" from="Timer" to="." method="_on_timer_timeout"]
[connection signal="confirmed" from="ConfirmationDialog" to="." method="_on_confirmation_dialog_confirmed"]
[connection signal="confirmed" from="ErrorDialog" to="." method="_on_error_dialog_confirmed"]
